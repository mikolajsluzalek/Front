@inherits LayoutComponentBase
@inject NavigationManager NavigationManager


<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />
<MudPopoverProvider />

<MudLayout>
    <MudAppBar Style="background-color: #41357d">
        <MudImage Fluid="true" Src="images/Logo.png" Height="40" Width="40" Alt="Logo Firmy" Elevation="0" Style="background-color: #41357d;" />
        <MudSpacer/>
        @if (!ShouldShowNavMenu())
        {
            <UserMenu />
        }
        <MudSpacer/>
        <MudButton Href="/Login" StartIcon="@Icons.Material.Filled.Login" Color="Color.Inherit"></MudButton>
    </MudAppBar>
    <MudMainContent>
        @Body
    </MudMainContent>

</MudLayout>

@code {
    private bool ShouldShowNavMenu()
    {
        var currentUri = NavigationManager.Uri; 
        var relativeUri = NavigationManager.ToBaseRelativePath(currentUri);

        return relativeUri == "" || relativeUri == "Login";
    }
}